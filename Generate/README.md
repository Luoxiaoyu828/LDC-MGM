# Generate Data
You can use generate.py to generate 2D or 3D data of cores.
This file contains some functions, such as 'is_separable_2', 'is_separable_3'.  
In this file, 'make_clumps' is the main function.
It is parameters are dim, n, path1, size_v, size_y, size_x, number, fits_header_path, history_info, information.
I will explain what these parameters mean next.  
```
dim: [int]dimension of data.
n: [int]Number of cores in each data block.
path1: [str]The location of the data store.
size_v: [int]size_v of a data block.If dim is 2, you can ignore it.
size_y: [int]size_y of a data block.
size_x: [int]size_x of a data block.
number: [int]The total number of cores.
fits_header_path: [str]If you have a fits file that include header, you can provide.
history_info: [dict]History information about fits.
information: [dict]Header information.The following is an introduction to its format.
Keywords for 3D data:{'SIMPLE', 'BITPIX', 'NAXIS', 'NAXIS1', 'NAXIS2', 'NAXIS3', 'DATAMIN', 'DATAMAX', 'BUNIT',
                        'CTYPE1', 'CRVAL1', 'CDELT1', 'CRPIX1', 'CROTA1', 'CTYPE2', 'CRVAL2', 'CDELT2', 'CRPIX2',
                        'CROTA2', 'CTYPE3', 'CRVAL3', 'CDELT3', 'CRPIX3', 'CROTA3', 'EQUINOX', 'LINE', 'ALTRVAL',
                        'ALTRPIX', 'RESTFREQ', 'BMAJ', 'BMIN', 'BPA', 'ORIGIN', 'DATE', 'RMS', 'CUNIT3'}
Keywords for 2D data:{'SIMPLE', 'BITPIX', 'NAXIS', 'NAXIS1', 'NAXIS2', 'DATAMIN', 'DATAMAX', 'BUNIT',
                        'CTYPE1', 'CRVAL1', 'CDELT1', 'CRPIX1', 'CROTA1', 'CTYPE2', 'CRVAL2', 'CDELT2', 'CRPIX2',
                        'CROTA2', 'EQUINOX', 'LINE', 'ALTRVAL', 'ALTRPIX', 'RESTFREQ', 'BMAJ', 'BMIN', 'BPA', 
                        'ORIGIN', 'DATE', 'RMS', 'CUNIT3'}
example:information = {'SIMPLE': (True, )}
```
This is an example:
```
total_data = make_clumps_1(dim=3, n=10, path1=path, size_y=100, size_x=100, number=100)
```
The above example will returns one total data(it contains 10(number / n) data block), and the data
is saved to the path you specify. 


## Synthetic Data
You can use synthetic_data.py to generate synthetic data.
This file contains some functions, such as 'fit_lognorm', 'is_separable_2', 
'first_data_set', 'second_data_set', 'make_synthetic_clumps'.  
In this file, 'make_synthetic_clumps' is the main function.

The arguments to 'fit_lognorm' function have 'data', 'xlabel', 'path'.
This function can be used to fit Peak and Sum of real data, and save the 
trend chart in PNG format.
```
data: [ndarray]The core table of real data.
xlabel: [str]The name of the x-coordinate.
path: [str]The location of trend chart.
```
This is an example:
```
outcat = fits.getdata('./gauss_outcat_m16_13_ellipse.FIT')
Sum = outcat['Sum']
fit_par_lognorm_sum, lognorm_dist_fitted_sum = fit_lognorm(Sum, 'Total Flux', path)
```
gauss_outcat_m16_13_ellipse.FIT is the result of detecting 13CO using GaussClump algorithm
in the M16 area.

The arguments to 'first_data_set' function have 'real_data_path', 'number', 'path'.
This function can generate the first sample data, it follows the distribution of Peak.
```
real_data_path: [str]The path of real data.
number: [int]The total number of cores.
path: [str]The location of trend chart.
```
This is an example:
```
real_data_path = './hdu_mosaic_L_3D.fits'
core_excel_first, lognorm_dist_fitted_Sum, path1 = first_data_set(path, real_data_path, number=10000)
```
hdu_mosaic_L_3D.fits is a real data.

The arguments to 'second_data_set' function have 'core_excel_first', 'lognorm_dist_fitted_Sum', 'path', 'interval'.
This function uses the data generated by first_data_set to generate the second data, it follows the distribution of Sum.
```
core_excel_first: [ndarray]first sample data.
numblognorm_dist_fitted_Sum: [obj]The Sum object fitted.
path: [str]The path of sample data.
interval: [int]The Sum of interval.
```
This is an example:
```
core_excel_first, lognorm_dist_fitted_Sum, path1 = first_data_set(path, real_data_path, number=10000)
first_data_set(core_excel_first, lognorm_dist_fitted_Sum, path, interval=200)
```
This function has no return value.

The arguments to 'make_synthetic_clumps' function have 'n', 'real_data_path', 'path', 'core_sample_path', 'number'.
This function generates synthetic data.
```
n: [int]Add n cores to a real data.
real_data_path: [str]The path of real data.
path: [str]The path of result.
core_sample_path: [str]The path of sample data.
number: [int]The total number of cores.
```
This is an example:
```
total_data = make_synthetic_clumps(n=10, real_data_path, path, core_sample_path='sample_data.txt', number=100)
```
It can generate 10(number / n) synthetic data, 10 cores are added to each data set.
